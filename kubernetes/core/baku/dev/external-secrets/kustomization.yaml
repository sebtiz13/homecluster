# vscode-kubernetes-tools: exclude
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: external-secrets
resources:
  - ../../base/external-secrets
  - ca-tls.yaml
patches:
  - patch: |-
      - op: add
        path: /spec/provider/vault/caProvider
        value:
          type: Secret
          namespace: default
          name: vm-ca-tls
          key: tls.crt
    target:
      group: external-secrets.io
      version: v1beta1
      kind: ClusterSecretStore
      name: vault-eso
      namespace: default
