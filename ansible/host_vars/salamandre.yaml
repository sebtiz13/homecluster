domain_name: "{{ root_domain }}"

k3s:
  flags:
    - --tls-san='{{ domain_name }}'

domains:
  - argocd.{{ root_domain }}
  - vault-secrets.{{ root_domain }} # Vault
  - sso.{{ root_domain }} # Keycloak
  - s3.{{ root_domain }} # Minio
  - git.{{ root_domain }} # GitLab
  - bag.{{ root_domain }} # Wallabag

# TODO: Until ArgoCD release https://github.com/argoproj/argo-cd/issues/7799
labeled_namespaces:
  - name: argocd
    tags:
      - argocd
  - name: vault
    tags:
      - vault
  - name: keycloak
    tags:
      - oidc
      - keycloak
  - name: minio
    tags:
      - minio
  - name: gitlab
    tags:
      - minio
      - gitlab
  - name: nextcloud
    tags:
      - cloud
      - nextcloud
  - name: vaultwarden
    tags:
      - cloud
      - vaultwarden
  # - name: wallabag # TODO: fix it
  #   tags:
  #     - cloud
  #     - wallabag
  - name: mailhog
    tags:
      - mailhog

nextcloud_apps:
  disable:
    - activity # Activity
    - circles # Circles
    - systemtags # Collaborative tags
    - federation # Federation
    - privacy # Privacy
    - nextcloud_announcements # Nextcloud announcements
    - support # Support
    - survey_client # Usage survey
    - user_status # User status
    - weather_status # Weather status

  enable:
    - admin_audit # Admin audit
    - twofactor_totp # 2FA (TOTP)
    - richdocuments # Collabora
    - mail # Mai
    - bookmarks # Bookmark
    - bruteforcesettings # Brute-force settings
    - contacts # Contact
    - drawio # Draw.io
    - external # External sites
    - metadata # Metadat
    - notes # Note
    - quota_warning # Quota warning
    - ransomware_protection # Ransomware protection
    - files_retention # Retentio
    - calendar # Calenda
