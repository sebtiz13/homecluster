- name: Vault | Fill forgejo application secrets # noqa: var-naming[no-role-prefix]
  ansible.builtin.include_role:
    name: vault_secret
  tags: forgejo
  vars:
    path: "salamandre/data/forgejo/{{ item.item }}"
    data: "{{ item.data }}"
  loop_control:
    label: "{{ item.item }}"
  loop:
    - item: auth
      data:
        adminUser: root
        adminPassword: "{{ admin_passwords.salamandre.forgejo }}"
    - item: runner
      data:
        token: "{{ lookup('file', credentials_folder + '/forgejo_runner_token') }}"

- name: Vault | Fill minio application secrets # noqa: var-naming[no-role-prefix]
  ansible.builtin.include_role:
    name: vault_secret
  tags: minio
  vars:
    path: salamandre/data/minio/auth
    data:
      rootUser: admin
      rootPassword: "{{ admin_passwords.salamandre.minio }}"

- name: Vault | Fill nextcloud application secrets # noqa: var-naming[no-role-prefix]
  ansible.builtin.include_role:
    name: vault_secret
  tags: k8s-dashboard
  vars:
    path: salamandre/data/nextcloud/auth
    data:
      adminUser: admin
      adminPassword: "{{ admin_passwords.salamandre.nextcloud }}"
      collaboraAdminUser: admin
      collaboraAdminPassword: "{{ admin_passwords.salamandre.collabora }}"

- name: Vault | Fill vaultwarden application secrets # noqa: var-naming[no-role-prefix]
  ansible.builtin.include_role:
    name: vault_secret
  tags: k8s-dashboard
  vars:
    path: salamandre/data/vaultwarden/auth
    data:
      adminUser: admin
      adminPassword: "{{ admin_passwords.salamandre.vaultwarden }}"
