plugin: argocd-vault-plugin-helm

ingress:
  subdomain: s3

source:
  repoURL: https://charts.min.io/
  chart: minio
  targetRevision: 5.0.1

destination:
  namespace: minio

syncPolicy:
  automated:
    prune: true
    selfHeal: true

# App Values
buckets:
  - name: <path:salamandre/data/gitlab/s3#bucket_artifacts>
    policy: none
  - name: <path:salamandre/data/gitlab/s3#bucket_backups>
    policy: none
  - name: <path:salamandre/data/gitlab/s3#bucket_depsProxy>
    policy: none
  - name: <path:salamandre/data/gitlab/s3#bucket_packages>
    policy: none
  - name: <path:salamandre/data/gitlab/s3#bucket_pages>
    policy: none
  - name: <path:salamandre/data/gitlab/s3#bucket_registry>
    policy: none
  - name: <path:salamandre/data/gitlab/s3#bucket_runner>
    policy: none
  - name: <path:salamandre/data/gitlab/s3#bucket_tfState>
    policy: none
  - name: <path:salamandre/data/gitlab/s3#bucket_uploads>
    policy: none
  - name: <path:salamandre/data/gitlab/s3#bucket_lfs>
    policy: none

serviceAccounts:
  - accessKey: <path:salamandre/data/gitlab/s3#accessKey>
    secretKey: <path:salamandre/data/gitlab/s3#secretKey>
    resources:
      - gitlab-*/*
      - git-lfs/*
      - tmp/*
