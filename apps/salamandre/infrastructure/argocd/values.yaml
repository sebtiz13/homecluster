plugin: argocd-vault-plugin-helm

source:
  repoURL: https://argoproj.github.io/argo-helm
  chart: argo-cd
  targetRevision: 5.5.16

destination:
  server: https://kubernetes.default.svc
  namespace: argocd

syncPolicy:
  automated:
    prune: true
    selfHeal: true

# App values
gitlabProjectID: '40446088'
vaultURL: http://vault-internal.vault.svc:8200

toolsVersion:
  avp: "1.13.0"
  vault: "1.11.4"

projects:
  - name: system
    description: System cluster critical apps
    sourceRepo:
      - "*"
    destinations:
      - namespace: "*"
        server: "*"
    clusterResourceWhitelist:
      - group: "*"
        kind: "*"
  - name: infrastructure
    description: Infrastructure apps
    sourceRepo:
      - "*"
    destinations:
      - namespace: "*"
        server: "*"
    clusterResourceWhitelist:
      - group: "*"
        kind: "*"
