cert-manager-webhook-ovh:
  enabled: false

extraObjects:
  - apiVersion: external-secrets.io/v1beta1
    kind: ExternalSecret
    metadata:
      name: vm-ca-tls
    spec:
      secretStoreRef:
        name: vault-eso
        kind: ClusterSecretStore
      refreshInterval: 1h
      target:
        template:
          type: kubernetes.io/tls
          data:
            tls.crt: '{{`{{"{{ .crt }}"}}`}}'
            tls.key: '{{`{{"{{ .key }}"}}`}}'
      dataFrom:
        - extract:
            key: salamandre/tls/vm-ca
  - apiVersion: cert-manager.io/v1
    kind: ClusterIssuer
    metadata:
      name: {{ .Values.baseDomain | replace "." "-" }}-issuer
    spec:
      ca:
        secretName: vm-ca-tls
